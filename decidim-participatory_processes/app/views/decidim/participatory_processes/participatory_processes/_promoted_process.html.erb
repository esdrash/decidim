<%= link_to participatory_process_path(promoted_process), class: "card__highlight" do %>
  <div class="card__highlight-img">
    <%= image_tag promoted_process.attached_uploader(:hero_image).path %>
  </div>
  <div class="card__highlight-text">
    <h3 class="h3 text-secondary"><%= decidim_html_escape(translated_attribute(promoted_process.title)).html_safe %></h3>
    <%= decidim_sanitize_editor html_truncate(translated_attribute(promoted_process.short_description), length: 630, separator: "...") %>

    <%# REDESIGN_PENDING: search for this texts %>
    <span class="show-for-sr"><%= decidim_html_escape(translated_attribute(promoted_process.title)) %></span>
    <%= t("participatory_processes.promoted_process.more_info", scope: "layouts.decidim") %>

    <% if translated_in_current_locale?(promoted_process.active_step&.cta_text) %>
      <span class="show-for-sr"><%= translated_attribute(promoted_process.active_step.cta_text) %></span>
      <span aria-hidden="true"><%= translated_attribute(promoted_process.active_step.cta_text) %></span>
    <% else %>
      <span class="show-for-sr"><%= t(promoted_process.cta_button_text_key_accessible, resource_name: translated_attribute(promoted_process.title), scope: "layouts.decidim.participatory_processes.promoted_process") %></span>
      <span aria-hidden="true"><%= t(promoted_process.cta_button_text_key, scope: "layouts.decidim.participatory_processes.promoted_process") %></span>
    <% end %>
    <% if promoted_process.active_step %>
      <span class="button__info">
        <%= t("participatory_processes.promoted_process.active_step", scope: "layouts.decidim") %> <%= translated_attribute promoted_process.active_step.title %>
      </span>
    <% end %>
  </div>
<% end %>
